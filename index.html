<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Calculadoras de distância do centro da roda dentada e comprimento da corrente</title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link type="text/css" rel="stylesheet" charset="UTF-8" href="css/style.css">

	<script language="JavaScript" type="text/javascript">

		function AdicionaCorrente() {
			let index = document.form.corrente.selectedIndex;
			document.form.passo.value = document.form.corrente[index].value;
		}

		function calcular(dataform, passo, eng1, eng2, centroAcentro) {

			let comprimentoTotal = (parseFloat(eng1) + parseFloat(eng2)) / 2 * parseFloat(passo) + parseFloat(centroAcentro) + parseFloat(centroAcentro);

			let nElos = Math.round(comprimentoTotal / parseFloat(passo));

			if (parseFloat(centroAcentro) > parseFloat(passo) * 40) {
				dataform.comprimentoTotal.value = comprimentoTotal;
				dataform.nElos.value = nElos;
				document.getElementById("errorCentroAcentro").innerText = "";
			} else {
				document.getElementById("errorCentroAcentro").innerText = " " + " Por favor adicione uma distancia maior que 40 x o passo";
				dataform.comprimentoTotal.value = "";
				dataform.nElos.value = "";
			}
			let rVelocidade = parseFloat(eng2) / parseFloat(eng1);
			dataform.rVelocidade.value = parseFloat(rVelocidade.toFixed(2));
		}
		function limparTudo() {
			document.getElementById("corrente").selectedIndex = 0;
			document.getElementById("passo").value = "";
			document.getElementById("centroAcentro").value = "";
			document.getElementById("eng1").value = "";
			document.getElementById("eng2").value = "";
			calcular(this.form, form.passo.value, form.eng1.value, form.eng2.value, form.centroAcentro.value);
		}

	</script>
</head>

<body>
	<div>
		<form name="form">
			<h2>Preencha os Campos com <span class="required">* </span></h2>
			<div class="inputs">
				<label><span class="required">* </span>Corrente</label>
				<div>
					<select name="corrente" id="corrente"
						onchange="AdicionaCorrente(), calcular(this.form,form.passo.value,form.eng1.value,form.eng2.value, form.centroAcentro.value)">
						<option>Seleciona uma Corrente</option>
						<!-- <option value="6.35">25</option> -->
						<!-- <option value="9.525">35</option> -->
						<option value="12.7">ASA 40 / 08B</option>
						<option value="15.875">ASA 50 / 10B</option>
						<option value="19.05">ASA 60 / 12B</option>
						<option value="25.4">ASA 80 / 16B</option>
						<option value="31.75">ASA 100 / 20B</option>
						<option value="38.1">ASA 120 / 24B</option>
						<option value="44.45">ASA 140 / 28B</option>
						<option value="50.8">ASA 160 / 32B</option>
						<option value="63.5">ASA 200 / 40B</option>
						<option value="76.2">ASA 240 / 48B</option>
					</select>
					<span>ASA / DIN</span>
				</div>
			</div>

			<div class="inputs">
				<label>Passo da corrente</label>
				<div>
					<input type="text" id="passo" name="passo">
					<span>mm</span>
				</div>
			</div>

			<div class="inputs">
				<label><span class="required">* </span>Engrenagem Acionadora</label>
				<div>
					<input type="text" id="eng1" name="eng1" value=""
					onKeyUp="calcular(this.form,form.passo.value,form.eng1.value,form.eng2.value, form.centroAcentro.value)">
				<span>No. de Dentes</span>
				</div>
			</div>

			<div class="inputs">
				<label><span class="required">* </span>Engrenagem Movida</label>
				<div>
					<input type="text" id="eng2" name="eng2" value=""
					onKeyUp="calcular(this.form,form.passo.value,form.eng1.value,form.eng2.value, form.centroAcentro.value)">
				<span>No. de Dentes</span>
				</div>
			</div>

			<div class="inputs">
				<label><span class="required">* </span> Distância entre centros</label>
				<div>
					<input type="text" id="centroAcentro" name="centroAcentro" value=""
					onKeyUp="calcular(this.form,form.passo.value,form.eng1.value,form.eng2.value, form.centroAcentro.value)">
				<span>mm</span>
				</div>
			</div>
			<!-- <input type="button" value="CALCULAR"
				onclick="calcular(this.form,form.passo.value,form.eng1.value,form.eng2.value, form.centroAcentro.value)"> -->

			<div class="inputs">
				<label>Numero de Elos</label>
				<input id="nElos" name="nElos">
			</div>

			<div class="inputs">
				<label>Comprimento</label>
				<input name="comprimentoTotal">
				<span>mm</span>
			</div>

			<div class="inputs">
				<label>Relação de Velocidade</label>
				<input name="rVelocidade">
			</div>
		</form>
		<button onclick="limparTudo()">Limpar tudo</button>
		<br>
		<span id="errorCentroAcentro" class="required"></span>
	</div>
	<div class="img-engrenagem">
		<div class="pinhao">
			<h2>PINHÃO</h2>
			<img src="./MODELO.png" alt="" srcset="">
			<span>Dp 12345</span>
			<span>DE 12345</span>
			<span>DB 12345</span>
		</div>
		<div class="movida">
			<h2>MOVIDA</h2>
			<img src="./MODELO.png" alt="" srcset="">
			<span>Dp 12345</span>
			<span>DE 12345</span>
			<span>DB 12345</span>
		</div>

	</div>

</body>

</html>