<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Calculadoras de distância do centro da roda dentada e comprimento da corrente</title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link type="text/css" rel="stylesheet" charset="UTF-8" href="css/style.css">
</head>

<body>
	<script language="JavaScript" type="text/javascript">
		function center_distance(dataform, pitch, N1, N2, nlinks) {

      /*
          Formula found on internet in a spreadsheet by Matthew J. Adams
         (B1/8) * (2*B4-B2-B3 + SQRT((2*B4-B2-B3)^2-(8/3.14159^2)*((B2-B3)^2)) )
         B1 = chain pitch
	 B2 = Sprocket 1 teeth
	 B3 = Sprocket 2 teeth
	 B4 = Links 
	 
	 Rewritten below in Javascript
	 */

			var a, b, c, d, e;

			a = pitch / 8;
			b = 2 * nlinks - N1 - N2;
			c = b * b;
			d = 8 / (Math.PI * Math.PI);
			e = N1 - N2;
			e = e * e;

			dataform.distance.value = a * (b + Math.sqrt(c - d * e));
			dataform.ratio.value = N2 / N1;

		}

		function chain_length(dataform, pitch, N1, N2, distance) {

			/*  
				 Formula found on internet in a spreadsheet by Matthew J. Adams
				 (2*E4/E1+E2/2+E3/2+((E2-E3)/(2*3.14159))^2/(E4/E1))  
				 
				 E1 = chain pitch
			 E2 = sprocket 1 teeth
			 E3 = sprocket 2 teeth
			 E4 = Center distance
				  
			 Rewritten below in Javascript
			 */

			var a, b, c;

			a = (N1 - N2) / (2 * Math.PI);
			a = a * a;

			dataform.links.value = (2 * distance / pitch + N1 / 2 + N2 / 2 + a / (distance / pitch));
			dataform.length.value = pitch * dataform.links.value;
			dataform.ratio.value = N2 / N1;

		}

	</script>
	<form name="distance_form">
		<h2>Distância do centro da roda dentada</h2>
		<label>Passo da corrente</label>
		<input type="text" name="pitch" value=".25" size="5" align="right" maxlength="5">

		<label style="vertical-align: inherit;">Dentes da roda dentada</label>
		<input type="text" name="drive_teeth" size="4" align="right" maxlength="4">

		<label style="vertical-align: inherit;">Dentes de roda dentada acionada </label>
		<input type="text" name="driven_teeth" size="4" align="right" maxlength="4">

		<label>Ligações em cadeia </label>
		<input type="text" name="links" size="4" align="right" maxlength="4">

		<input type="button" value="CALCULAR"
			onclick="center_distance(this.form,form.pitch.value,form.drive_teeth.value,form.driven_teeth.value, form.links.value)">

		<label>Distância do centro</label>
		<input name="distance" size="6" readonly="">

		<label>Taxa de redução</label>
		<input name="ratio" size="6" readonly="">
	</form>

	<hr>

	<form name="chain_length_form">
		<h2>Comprimento da corrente</h2>
		<label>Passo da corrente </label>
		<input type="text" name="pitch" value=".25" size="5" align="right" maxlength="5">


		<label>Dentes da roda dentada </label>
		<input type="text" name="drive_teeth" size="4" align="right" maxlength="4">

		<label>Dentes de roda dentada acionada </label>
		<input type="text" name="driven_teeth" size="4" align="right" maxlength="4">

		<label>Distância do centro </label>
		<input type="text" name="distance" size="6" align="right" maxlength="6">


		<input type="button" value="CALCULAR"
			onclick="chain_length(this.form,form.pitch.value,form.drive_teeth.value,form.driven_teeth.value, form.distance.value)">

		<label>Ligações </label>
		<input name="links" size="5" readonly="">

		<label>Comprimento </label>
		<input name="length" size="6" readonly="">

		<label>Taxa de redução </label>
		<input name="ratio" size="6" readonly="">

	</form>
</body>

</html>